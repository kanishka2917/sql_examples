DROP TABLE FEE_DETAILS;

DROP TABLE PREVIOUS_SCORES;

DROP TABLE STUDENT_CONTACT;

DROP TABLE TEST_SCORES;

DROP TABLE TOPPER_TUTORIALS;

DROP TABLE TEST_DETAILS;

CREATE TABLE TOPPER_TUTORIALS (
    STUDENT_ID VARCHAR2(3),
    STUDENT_NAME VARCHAR2(20) NOT NULL,
    GENDER CHAR(1) NOT NULL,
    JOINING_DATE DATE
);

ALTER TABLE
    TOPPER_TUTORIALS
ADD
    (
        CONSTRAINT PK_STUDENT_ID 
        PRIMARY KEY (STUDENT_ID)
    );

CREATE TABLE STUDENT_CONTACT (
    STUDENT_ID VARCHAR2(3) NOT NULL,
    ADDRESS VARCHAR2(100),
    MOBILE CHAR(10),
    EMAIL VARCHAR2(20)
);

ALTER TABLE
    STUDENT_CONTACT
ADD
    CONSTRAINT MOBILE_UQ UNIQUE (MOBILE);

ALTER TABLE
    STUDENT_CONTACT
ADD
    (
        CONSTRAINT FK_STUDENT_CONTACT_STUDENT_ID
        FOREIGN KEY (STUDENT_ID) 
        REFERENCES TOPPER_TUTORIALS (STUDENT_ID) 
        ON DELETE CASCADE
    );

CREATE TABLE PREVIOUS_SCORES (
    STUDENT_ID VARCHAR2(3) NOT NULL,
    SYLLABUS VARCHAR2(5),
    SSLC_SCIENCE NUMBER(3) DEFAULT 0,
    SSLC_MATHS NUMBER(3) DEFAULT 0,
    GRADE CHAR (2) DEFAULT '-'
);

ALTER TABLE
    PREVIOUS_SCORES
ADD
    (
        CONSTRAINT FK_PREVIOUS_SCORES_STUDENT_ID
         FOREIGN KEY (STUDENT_ID) 
         REFERENCES TOPPER_TUTORIALS (STUDENT_ID)
          ON DELETE CASCADE
    );

CREATE TABLE FEE_DETAILS (
    STUDENT_ID VARCHAR2(3) NOT NULL,
    FEE_PAID NUMBER(4),
    FEE_BALANCE AS (5000 - FEE_PAID)
);

ALTER TABLE
    FEE_DETAILS
ADD
    (
        CONSTRAINT FK_FEE_DETAILS_STUDENT_ID 
        FOREIGN KEY (STUDENT_ID) 
        REFERENCES TOPPER_TUTORIALS (STUDENT_ID)
         ON DELETE CASCADE
    );

CREATE TABLE TEST_DETAILS (
    TEST_ID VARCHAR2(6),
    TEST_NAME VARCHAR2(20) NOT NULL,
    TEST_DATE DATE NOT NULL
);

ALTER TABLE
    TEST_DETAILS
ADD
    (
        CONSTRAINT PK_TEST_ID
         PRIMARY KEY (TEST_ID)
    );

CREATE TABLE TEST_SCORES(
    TEST_ID VARCHAR2(6) NOT NULL,
    STUDENT_ID VARCHAR2(4) NOT NULL,
    PHYSICS NUMBER(3) DEFAULT 0,
    CHEMISTRY NUMBER(3) DEFAULT 0,
    MATHS NUMBER(3) DEFAULT 0,
    BIOLOGY NUMBER(3) DEFAULT 0
);

ALTER TABLE
    TEST_SCORES
ADD
    (
        CONSTRAINT FK_TEST_SCORES_STUDENT_ID 
        FOREIGN KEY (STUDENT_ID) 
        REFERENCES TOPPER_TUTORIALS (STUDENT_ID)
         ON DELETE CASCADE
    );

ALTER TABLE
    TEST_SCORES
ADD
    (
        CONSTRAINT FK_TEST_SCORES_TEST_ID 
        FOREIGN KEY (TEST_ID) 
        REFERENCES TEST_DETAILS (TEST_ID) 
        ON DELETE CASCADE
    );

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('001', 'SATYAM', 'M', '04-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('002', 'SUNDARAM', 'M', '05-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('003', 'MADHURA', 'F', '06-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('004', 'PREMA', 'F', '07-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('005', 'AMAR', 'M', '08-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('006', 'AKBAR', 'M', '08-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('007', 'ANTHONY', 'M', '09-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('008', 'RAMA', 'M', '10-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('009', 'SHAMA', 'M', '11-JUN-2016');

INSERT INTO
    TOPPER_TUTORIALS
VALUES
    ('010', 'BHAMA', 'F', '12-JUN-2016');

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '001',
        '#34, 7TH MAIN ROAD, 6TH CROSS, PC LAYOUT, BANGALORE',
        9164544444,
        'satyam@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '002',
        '#214, 12TH MAIN ROAD, 1ST CROSS, GANAPATHI LAYOUT, BANGALORE',
        9164555555,
        'sundaram@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '003',
        '#45, 5TH MAIN ROAD, 9TH CROSS, TC LAYOUT, BANGALORE',
        9026466666,
        'madhura@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '003',
        '#15, 1ST MAIN ROAD, 8TH CROSS, BEML LAYOUT, BANGALORE',
        9532188888,
        'madhura@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '004',
        '#87, 1ST MAIN ROAD, 1ST CROSS, BHIMA NAGAR, BANGALORE',
        9538077777,
        'prema@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '005',
        '#101, 5TH MAIN ROAD, 1ST CROSS, KUVEMPU NAGAR, BANGALORE',
        9731488888,
        'amar@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '006',
        '#78, 5TH MAIN ROAD, 2ND CROSS,

KRISHNA NAGAR, BANGALORE',
        9845199999,
        'akbar@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '007',
        '#85, 6TH MAIN ROAD, 6TH CROSS, AYYAPPA LAYOUT, BANGALORE',
        9900121212,
        'anthony@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '008',
        '#57, 15TH MAIN ROAD, 9TH CROSS, LAKSHMI LAYOUT, BANGALORE',
        9632400112,
        ' rama@email.com '
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '008',
        ' #59, 14TH MAIN ROAD, 5TH CROSS, JAYNAGAR, BANGALORE',
        9278300000,
        'rama@email.com'
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '009',
        '#123, 5TH MAIN ROAD, 8TH CROSS, PRINCE COLONY, BANGALORE',
        9844210101,
        ' shama@email.com '
    );

INSERT INTO
    STUDENT_CONTACT
VALUES
    (
        '010',
        ' #75, 19TH MAIN ROAD, 3RD CROSS, LIC LAYOUT, BANGALORE',
        9538545456,
        'bhama@email.com'
    );

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, SSLC_SCIENCE, SSLC_MATHS)
VALUES
    ('001', 'STATE', 45, 35);

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, SSLC_SCIENCE, SSLC_MATHS)
VALUES
    ('002', 'STATE', 85, 63);

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, SSLC_SCIENCE, SSLC_MATHS)
VALUES
    ('003', 'STATE', 73, 65);

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, SSLC_SCIENCE, SSLC_MATHS)
VALUES
    ('004', 'STATE', 56, 70);

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, GRADE)
VALUES
    ('005', 'ICSE', 'A+');

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, GRADE)
VALUES
    ('006', 'ICSE', 'B');

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, GRADE)
VALUES
    ('007', 'ICSE', 'C+');

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, GRADE)
VALUES
    ('008', 'ICSE', 'C+');

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, GRADE)
VALUES
    ('009', 'ICSE', 'C+');

INSERT INTO
    PREVIOUS_SCORES (STUDENT_ID, SYLLABUS, GRADE)
VALUES
    ('010', 'ICSE', 'C');

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('001', 3000);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('002', 3500);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('003', 4000);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('004', 2000);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('005', 3000);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('006', 3000);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('007', 3500);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('008', 5000);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('009', 4500);

INSERT INTO
    FEE_DETAILS (STUDENT_ID, FEE_PAID)
VALUES
    ('010', 3000);

INSERT INTO
    TEST_DETAILS
VALUES
    ('TEST01', 'FIRST TEST', '13-JUN-2016');

INSERT INTO
    TEST_DETAILS
VALUES
    ('TEST02', 'SECOND TEST', '14-JUN-2016');

INSERT INTO
    TEST_DETAILS
VALUES
    ('TEST03', 'FIRST PREPARATORY', '15-JUN-2016');

INSERT INTO
    TEST_DETAILS
VALUES
    ('TEST04', 'THIRD TEST', '16-JUN-2016');

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '001', 78, 45, 43, 67);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '002', 40, 35, 50, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '003', 75, 73, 80, 85);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '004', 79, 85, 91, 88);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '005', 78, 79, 75, 89);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '006', 78, 65, 48, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '007', 38, 35, 42, 48);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '008', 46, 43, 56, 59);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '009', 85, 78, 95, 69);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST01', '010', 47, 63, 50, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '001', 78, 45, 43, 67);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '002', 40, 35, 50, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '003', 75, 73, 80, 85);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '004', 79, 85, 91, 88);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '005', 78, 79, 75, 89);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '006', 78, 65, 48, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '007', 38, 35, 42, 48);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '008', 46, 43, 56, 59);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '009', 85, 78, 95, 69);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST02', '010', 47, 63, 50, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '001', 78, 45, 43, 67);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '002', 40, 35, 50, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '003', 75, 73, 80, 85);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '004', 79, 85, 91, 88);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '005', 78, 79, 75, 89);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '006', 78, 65, 48, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '007', 38, 35, 42, 48);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '008', 46, 43, 56, 59);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '009', 85, 78, 95, 69);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST03', '010', 47, 63, 50, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '001', 78, 45, 43, 67);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '002', 40, 35, 50, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '003', 75, 73, 80, 85);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '004', 79, 85, 91, 88);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '005', 78, 79, 75, 89);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '006', 78, 65, 48, 52);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '007', 38, 35, 42, 48);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '008', 46, 43, 56, 59);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '009', 85, 78, 95, 69);

INSERT INTO
    TEST_SCORES
VALUES
    ('TEST04', '010', 47, 63, 50, 52);